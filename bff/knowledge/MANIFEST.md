# NGX Knowledge Store — MANIFEST

## Versión: 2.0 | Última actualización: 2026-02-13

---

## Resumen

- **Total documentos:** 15
- **Dominios:** 5 (GENESIS, TRAIN, FUEL, MIND, TRACK)
- **Versión de todos los docs:** 2.0
- **Idioma:** Español (100%)
- **Violaciones de identidad GENESIS:** 0 (menciones en genesis_identity.md son NEGATIVAS — reglas de lo que NO hacer)
- **Tokens estimados totales:** ~51,446
- **Target:** 55–65K tokens
- **Status:** ⚠️ Ligeramente bajo target (~51.4K). Margen para expansión futura.

---

## Inventario Completo

### 1. GENESIS Store (`genesis/`)

| # | Archivo | Líneas | Evidencia | Tokens Est. | Agentes |
|---|---------|--------|-----------|-------------|---------|
| 1 | `genesis_identity.md` | 228 | 8 | ~3,002 | Root (todos) |
| 2 | `ngx_philosophy_expanded.md` | 239 | 13 | ~2,937 | Root (todos) |
| 3 | `muscle_endocrine_function.md` | 316 | 8 | ~3,602 | Root, TRAIN, TRACK |

**Subtotal GENESIS:** 3 docs, 783 líneas, 29 bloques evidencia, ~9,541 tokens

---

### 2. TRAIN Store (`train/`)

| # | Archivo | Líneas | Evidencia | Tokens Est. | Agentes |
|---|---------|--------|-----------|-------------|---------|
| 4 | `training_splits.md` | 358 | 8 | ~3,861 | TRAIN |
| 5 | `exercise_database.md` | 400 | 9 | ~3,818 | TRAIN |
| 6 | `periodization_progression.md` | 298 | 11 | ~3,818 | TRAIN |
| 7 | `corrective_exercise.md` | 412 | 10 | ~3,736 | TRAIN, TRACK |

**Subtotal TRAIN:** 4 docs, 1,468 líneas, 38 bloques evidencia, ~15,233 tokens

---

### 3. FUEL Store (`fuel/`)

| # | Archivo | Líneas | Evidencia | Tokens Est. | Agentes |
|---|---------|--------|-----------|-------------|---------|
| 8 | `nutrition_protocols.md` | 406 | 21 | ~4,333 | FUEL |
| 9 | `protein_guidelines.md` | 202 | 12 | ~2,593 | FUEL |
| 10 | `supplementation.md` | 136 | 4 | ~1,858 | FUEL, MIND |

**Subtotal FUEL:** 3 docs, 744 líneas, 37 bloques evidencia, ~8,784 tokens

---

### 4. MIND Store (`mind/`)

| # | Archivo | Líneas | Evidencia | Tokens Est. | Agentes |
|---|---------|--------|-----------|-------------|---------|
| 11 | `sleep_architecture.md` | 196 | 8 | ~2,640 | MIND |
| 12 | `stress_recovery.md` | 265 | 10 | ~3,241 | MIND |
| 13 | `brain_fitness_protocols.md` | 343 | 10 | ~3,013 | MIND, TRACK |

**Subtotal MIND:** 3 docs, 804 líneas, 28 bloques evidencia, ~8,894 tokens

---

### 5. TRACK Store (`track/`)

| # | Archivo | Líneas | Evidencia | Tokens Est. | Agentes |
|---|---------|--------|-----------|-------------|---------|
| 14 | `assessment_protocols.md` | 511 | 7 | ~5,421 | TRACK |
| 15 | `tracking_system.md` | 279 | 8 | ~3,573 | TRACK |

**Subtotal TRACK:** 2 docs, 790 líneas, 15 bloques evidencia, ~8,994 tokens

---

## Totales por Dominio

| Dominio | Docs | Líneas | Evidencia | Tokens Est. |
|---------|------|--------|-----------|-------------|
| GENESIS | 3 | 783 | 29 | ~9,541 |
| TRAIN | 4 | 1,468 | 38 | ~15,233 |
| FUEL | 3 | 744 | 37 | ~8,784 |
| MIND | 3 | 804 | 28 | ~8,894 |
| TRACK | 2 | 790 | 15 | ~8,994 |
| **TOTAL** | **15** | **4,589** | **147** | **~51,446** |

---

## Status de las 6 Correcciones Críticas

| # | Corrección | Archivo | Status | Detalle |
|---|-----------|---------|--------|---------|
| 1 | Seed oils: posición neutral basada en evidencia | `fuel/nutrition_protocols.md` | ✅ Aplicada | Sección 4.1 — 15 RCTs, posición neutral, no demonizar |
| 2 | Deload: herramienta estratégica, no obligatoria c/4 sem | `train/periodization_progression.md` | ✅ Aplicada | Micro-deload cada 4-8 semanas, 3 opciones de protocolo |
| 3 | Tempo: variable de periodización, no prescripción fija | `train/periodization_progression.md` | ✅ Aplicada | Sección 1.3 — <2% varianza, recomendación práctica |
| 4 | Vitamina D: Tier A (no menor) | `fuel/supplementation.md` | ✅ Aplicada | Tier A — Optimización, con test basal |
| 5 | FMS: screening (no diagnóstico), sensibilidad 24.7% | `track/assessment_protocols.md` | ✅ Aplicada | Sección 8 — Moran 2017, uso correcto definido |
| 6 | Potencia muscular: métrica de longevidad + CLINIMEX 2025 | `track/tracking_system.md` | ✅ Aplicada | Sección 2.5 — HR=5.88/6.90, PMID 40304660 |

---

## Cross-Document Consistency (Verificado 2026-02-13)

| Check | Result | Notas |
|-------|--------|-------|
| 12-week season phases | ✅ Consistente | 4 docs alineados: Adaptación 1-3, Acumulación 4-6, Intensificación 7-9, Realización+Deload 10-12 |
| Corrective ↔ Exercise DB | ✅ Consistente | Músculos y patrones de corrective_exercise.md existen en exercise_database.md |
| Brain Fitness ↔ Sleep ↔ Stress | ✅ Consistente | Sleep targets 7-9h, eje HPA, herramientas de regulación alineadas |
| Muscle Endocrine ↔ Philosophy | ✅ Consistente | Concepto muscle-as-endocrine-organ unificado |
| PMIDs (sample n=5) | ✅ Plausibles | Formato 8 dígitos, DOIs válidos, journals reales |

---

## Identidad GENESIS

- **Violaciones encontradas:** 0
- **Nota:** `genesis_identity.md` (líneas 11, 212) menciona "sub-agentes" y "transferir" en contexto NEGATIVO (reglas de lo que GENESIS nunca debe decir). Esto es correcto y es parte del protocolo de identidad.

---

## Mapeo Documento → Agente(s)

| Documento | GENESIS | TRAIN | FUEL | MIND | TRACK |
|-----------|---------|-------|------|------|-------|
| genesis_identity.md | ● | ● | ● | ● | ● |
| ngx_philosophy_expanded.md | ● | ● | ● | ● | ● |
| muscle_endocrine_function.md | ● | ● | | | ● |
| training_splits.md | | ● | | | |
| exercise_database.md | | ● | | | |
| periodization_progression.md | | ● | | | |
| corrective_exercise.md | | ● | | | ● |
| nutrition_protocols.md | | | ● | | |
| protein_guidelines.md | | | ● | | |
| supplementation.md | | | ● | ● | |
| sleep_architecture.md | | | | ● | |
| stress_recovery.md | | | | ● | |
| brain_fitness_protocols.md | | | | ● | ● |
| assessment_protocols.md | | | | | ● |
| tracking_system.md | | | | | ● |

---

## Línea Editorial

- **Hipertrofia:** Mike Israetel / RP Strength (ciencia del volumen, RIR, periodización)
- **Longevidad:** Gabrielle Lyon / Peter Attia (músculo como órgano endocrino, Medicine 3.0)
- **Biomecánica:** Jeff Cavaliere / Squat University (seguridad articular, ROM completo)
- **Nutrición:** Gabrielle Lyon + Thomas DeLauer (proteína primero, anti-inflamación)
- **Neurociencia:** Andrew Huberman (protocolos basados en neurociencia, ritmo circadiano)
- **Psicología:** Modern Warrior + Fit For Success (identidad, adherencia, 5 pilares)
- **Ejercicio Correctivo:** ISSA CES + NASM CES (síndromes de Janda, ILAI protocol)

---

## Configuración de File Search API

### Chunking Recomendado:
- Tokens por chunk: 512
- Overlap: 50 tokens
- Formato: Markdown con headers como delimitadores naturales

### Comandos de Upload (via manage_stores.py):

```bash
# Crear stores
python scripts/manage_stores.py create --domain genesis
python scripts/manage_stores.py create --domain train
python scripts/manage_stores.py create --domain fuel
python scripts/manage_stores.py create --domain mind
python scripts/manage_stores.py create --domain track

# Upload documentos — GENESIS Store
python scripts/manage_stores.py upload --domain genesis --file knowledge/genesis/genesis_identity.md
python scripts/manage_stores.py upload --domain genesis --file knowledge/genesis/ngx_philosophy_expanded.md
python scripts/manage_stores.py upload --domain genesis --file knowledge/genesis/muscle_endocrine_function.md

# Upload documentos — TRAIN Store
python scripts/manage_stores.py upload --domain train --file knowledge/train/training_splits.md
python scripts/manage_stores.py upload --domain train --file knowledge/train/exercise_database.md
python scripts/manage_stores.py upload --domain train --file knowledge/train/periodization_progression.md
python scripts/manage_stores.py upload --domain train --file knowledge/train/corrective_exercise.md

# Upload documentos — FUEL Store
python scripts/manage_stores.py upload --domain fuel --file knowledge/fuel/nutrition_protocols.md
python scripts/manage_stores.py upload --domain fuel --file knowledge/fuel/protein_guidelines.md
python scripts/manage_stores.py upload --domain fuel --file knowledge/fuel/supplementation.md

# Upload documentos — MIND Store
python scripts/manage_stores.py upload --domain mind --file knowledge/mind/sleep_architecture.md
python scripts/manage_stores.py upload --domain mind --file knowledge/mind/stress_recovery.md
python scripts/manage_stores.py upload --domain mind --file knowledge/mind/brain_fitness_protocols.md

# Upload documentos — TRACK Store
python scripts/manage_stores.py upload --domain track --file knowledge/track/assessment_protocols.md
python scripts/manage_stores.py upload --domain track --file knowledge/track/tracking_system.md
```

### Verificación Post-Upload:
```bash
# Listar todos los stores
python scripts/manage_stores.py list

# Test queries por dominio
python scripts/manage_stores.py query --domain genesis --query "¿Cuál es el tono de voz de GENESIS?"
python scripts/manage_stores.py query --domain genesis --query "¿Qué mioquinas libera el músculo?"
python scripts/manage_stores.py query --domain train --query "¿Cuál es el split recomendado para un intermedio?"
python scripts/manage_stores.py query --domain train --query "¿Cómo corregir Upper Crossed Syndrome?"
python scripts/manage_stores.py query --domain fuel --query "¿Cuánta proteína necesito para perder grasa?"
python scripts/manage_stores.py query --domain fuel --query "¿Son malos los aceites de semillas?"
python scripts/manage_stores.py query --domain mind --query "¿Cuál es la Regla 3-2-1 del sueño?"
python scripts/manage_stores.py query --domain mind --query "¿Cómo afecta el ejercicio al BDNF?"
python scripts/manage_stores.py query --domain track --query "¿Cómo clasificar el nivel de un usuario nuevo?"
python scripts/manage_stores.py query --domain track --query "¿Qué es la potencia muscular como predictor de longevidad?"
```

---

## Notas para Sprint 4 Track B

1. **Upload a Gemini File Search stores:** Ejecutar los comandos de arriba una vez que BFF esté en Cloud Run con acceso a Gemini API.
2. **Env vars necesarias:** `GEMINI_API_KEY`, `KNOWLEDGE_STORE_GENESIS`, `KNOWLEDGE_STORE_TRAIN`, `KNOWLEDGE_STORE_FUEL`, `KNOWLEDGE_STORE_MIND`, `KNOWLEDGE_STORE_TRACK`.
3. **Validar retrieval quality:** Después del upload, ejecutar las queries de verificación y confirmar que los chunks relevantes son retornados con score > 0.7.
4. **Token budget por query:** Con ~51K tokens totales y chunking de 512, habrá ~100 chunks. Cada query debería retornar top-3 chunks (~1,536 tokens) para mantener el context window eficiente.
5. **Expansión futura:** El knowledge store está ~6K tokens bajo el target de 55K. Candidatos para expansión: supplementation.md (solo 1,858 tokens), tracking_system.md (podría incluir más protocolos de composición corporal).

---

## Historial de Batches

| Batch | Fecha | Docs Creados | Docs Enriquecidos | Total Acumulado |
|-------|-------|-------------|-------------------|-----------------|
| BATCH 1 | 2026-02-12 | 4 (genesis_identity, ngx_philosophy, training_splits, exercise_database) | — | 4 |
| BATCH 2 | 2026-02-12 | 4 (periodization, protein, nutrition, supplementation) + 4 (sleep, stress, assessment, tracking) | — | 12 |
| BATCH 3 | 2026-02-13 | 3 (corrective_exercise, brain_fitness_protocols, muscle_endocrine_function) | 12 (todos a v2.0) | 15 |

---

**NGX GENESIS Knowledge Store — Verificado y listo para Sprint 4 Track B.**
