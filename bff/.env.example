# GENESIS BFF Environment Variables
# Copy this file to .env and fill in your values
# For Cloud Run, use Secret Manager or set via gcloud run deploy --set-secrets

# ============================================================================
# Supabase Configuration
# ============================================================================
# Your Supabase project URL (from dashboard: https://supabase.com/dashboard)
SUPABASE_URL=https://your-project.supabase.co

# Supabase service role key (from project settings > API > Service Role Key)
# IMPORTANT: Keep this secret! Use Cloud Run Secret Manager in production
SUPABASE_SERVICE_KEY=your-service-role-key

# PostgreSQL connection string (from Supabase dashboard)
# Format: postgresql://postgres:password@db.your-project.supabase.co:5432/postgres
# DatabaseSessionService (Sprint 3+) — Supabase direct connection
# IMPORTANT: Use ?options=-c%20search_path%3Dadk to avoid table conflicts
# with the existing 'sessions' table (used for workout tracking).
# Run `CREATE SCHEMA IF NOT EXISTS adk;` in Supabase SQL Editor first.
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# ============================================================================
# Google AI / Gemini Configuration
# ============================================================================
# Google API key for Gemini (from Google AI Studio: https://aistudio.google.com/app/apikey)
# Models used: gemini-2.5-flash, text-embedding-004, File Search API
# IMPORTANT: Keep this secret! Use Cloud Run Secret Manager in production
GOOGLE_API_KEY=your-google-api-key

# Optional: Use Vertex AI instead of direct Google API
# Set GCP_PROJECT_ID to use Vertex AI; leave blank to use GOOGLE_API_KEY
GCP_PROJECT_ID=your-gcp-project-id
GCP_LOCATION=us-central1

# ============================================================================
# JWT Authentication
# ============================================================================
# Secret key used to validate JWT tokens from mobile app
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# IMPORTANT: Keep this secret! Use Cloud Run Secret Manager in production
JWT_SECRET=your-jwt-secret-key-here

# ============================================================================
# CORS (Cross-Origin Resource Sharing)
# ============================================================================
# Comma-separated list of allowed origins for mobile app
# Local development example:
CORS_ORIGINS=http://localhost:8081,exp://192.168.0.100:8081

# ============================================================================
# Gemini File Search — Knowledge Stores
# ============================================================================
# Store IDs for domain-specific knowledge bases (populated by upload_knowledge_stores.py)
# Create stores with: python scripts/manage_stores.py create --domain <name>
# These are created and managed via the File Search API

# GENESIS domain store (root orchestrator knowledge)
FILESEARCH_STORE_GENESIS=

# TRAIN domain store (periodization, strength, conditioning knowledge)
FILESEARCH_STORE_TRAIN=

# FUEL domain store (nutrition, macros, meal planning knowledge)
FILESEARCH_STORE_FUEL=

# MIND domain store (wellness, mental health, recovery knowledge)
FILESEARCH_STORE_MIND=

# TRACK domain store (progress metrics, body composition, strength tracking)
FILESEARCH_STORE_TRACK=

# ============================================================================
# Gemini Configuration
# ============================================================================
# Model used for File Search API queries
FILESEARCH_MODEL=gemini-2.5-flash

# ============================================================================
# Optional: Development & Debugging
# ============================================================================
# Set to "development" for verbose logging
# APP_ENV=development

# Enable debug mode for ADK agents (prints agent traces)
# DEBUG_ADK=true
